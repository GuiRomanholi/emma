<!DOCTYPE html>
<html lang="pt-br"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head>
    <meta charset="UTF-8">
    <title>Emma - Apoio Emocional</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-black text-gray-200">

<div th:replace="~{fragments/layout :: header}"></div>

<main class="max-w-3xl mx-auto p-6 mt-10">

    <h2 class="text-3xl font-semibold text-white mb-8 text-center">Apoio Emocional com a Emma</h2>

    <div class="bg-neutral-900 border border-neutral-800 shadow-xl rounded-2xl p-8">

        <form th:action="@{/emma/feeling}" method="post" class="space-y-6">

            <!-- Selecionar apenas o ID da leitura -->
            <div>
                <label class="block mb-2 text-gray-300 font-medium">Selecione a leitura:</label>
                <select name="readingId" required
                        class="w-full bg-neutral-800 border border-neutral-700 text-gray-100 px-4 py-2 rounded-lg focus:outline-none focus:ring focus:ring-indigo-500">
                    <option value="" disabled selected>Escolha...</option>
                    <option th:each="reading : ${readings}"
                            th:value="${reading.id}"
                            th:text="'Leitura ID: ' + ${reading.id}">
                    </option>
                </select>
            </div>

            <!-- Sentimento -->
            <div>
                <label class="block mb-2 text-gray-300 font-medium">Como você está se sentindo?</label>
                <input type="text" name="feeling" required
                       class="w-full bg-neutral-800 border border-neutral-700 text-gray-100 px-4 py-2 rounded-lg focus:outline-none focus:ring focus:ring-indigo-500">
            </div>

            <!-- Descrição opcional -->
            <div>
                <label class="block mb-2 text-gray-300 font-medium">Quer descrever melhor o que aconteceu? (opcional)</label>
                <textarea name="description" rows="5"
                          class="w-full bg-neutral-800 border border-neutral-700 text-gray-100 px-4 py-2 rounded-lg resize-none focus:outline-none focus:ring focus:ring-indigo-500"></textarea>
            </div>

            <div class="text-center">
                <button type="submit"
                        class="bg-white text-black font-semibold px-6 py-2 rounded-lg hover:opacity-80 transition">
                    Receber Suporte
                </button>
            </div>

        </form>
    </div>

</main>

<div th:replace="~{fragments/layout :: footer}"></div>

</body>
</html>
